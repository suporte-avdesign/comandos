(function(h,m,o,e){var k=h(m),p=h(o);h.fn.styleCheckable=function(r){var s=h.extend({},h.fn.styleCheckable.defaults,r);return this.each(function(x){var y=h(this),v=h.extend({},s,y.data("checkable-options")),B=this.checked?" checked":"",w=this.disabled?" disabled":"",u=y.data("replacement"),A=(this.title&&this.title.length>0)?' title="'+this.title+'"':"",t=(this.tabIndex>0)?this.tabIndex:0,z;if(u){return}z=h.template.disableDOMWatch();if(y.hasClass("switch")){u=h('<span class="'+this.className+B+w+' replacement"'+A+' tabindex="'+t+'"><span class="switch-on"><span>'+(y.data("text-on")||v.textOn)+'</span></span><span class="switch-off"><span>'+(y.data("text-off")||v.textOff)+'</span></span><span class="switch-button"></span></span>')}else{u=h('<span class="'+this.className+B+w+' replacement"'+A+' tabindex="'+t+'"><span class="check-knob"></span></span>')}this.tabIndex=-1;u.insertAfter(y).data("replaced",y);y.data("replacement",u);y.addClearFunction(d);y.detach().appendTo(u).data("initial-classes",this.className);this.className="";if(z){h.template.enableDOMWatch()}})};h.fn.styleCheckable.defaults={textOn:"ON",textOff:"OFF"};h.fn.styleSelect=function(r){var s=h.extend({},h.fn.styleSelect.defaults,r);return this.each(function(F){var v=h(this),H=h.extend({},s,v.data("select-options")),D=v.data("replacement"),E,I=0,w=this.disabled?" disabled":"",G=((this.multiple||v.hasClass("multiple"))&&!v.hasClass("multiple-as-single")),y=(v.attr("size")>1),J=(this.title&&this.title.length>0)?' title="'+this.title+'"':"",x=(this.tabIndex>0)?this.tabIndex:0,C,K,A,t,z,B,u;if(D){return}B=h.template.disableDOMWatch();E=v.tempShow();if(v.is(":hidden")){v.show()}C=v.width();E.tempShowRevert();if(v.hasClass("full-width")){K=""}else{if(this.style.width!=""&&this.style.width!="auto"){I=G?0:-26}else{if(this.multiple){if(G){I=v.hasClass("check-list")?36:8}else{I=v.hasClass("check-list")?10:8}}else{if(G){I=v.hasClass("check-list")?21:0}}if(G&&y){I+=h.fn.customScroll?6:20}}if(navigator.userAgent.match(/Safari/)){I+=h.template.iPhone?6:23}K=' style="width:'+(C+I)+'px"'}if(G){A=h('<span class="'+this.className.replace(/validate\[.*\]/,"").replace(/(\s*)select(\s*)/,"$1selectMultiple$2")+w+' replacement"'+J+K+' tabindex="'+x+'"><span class="drop-down"></span></span>').insertAfter(v).data("replaced",v);v.data("replacement",A);f.call(A);if(y&&!v.getStyleString().match(/height\s*:\s*[0-9]+/i)){t=A.children(".drop-down");t.height(v.hasClass("check-list")?(this.size*37)-1:this.size*26);if(h.fn.customScroll){t.customScroll({padding:4,showOnHover:false,usePadding:true})}}}else{A=h('<span class="'+this.className.replace(/validate\[.*\]/,"")+w+' replacement"'+J+K+' tabindex="'+x+'"><span class="select-value"></span><span class="select-arrow">'+(h.template.ie7?'<span class="select-arrow-before"></span><span class="select-arrow-after"></span>':"")+'</span><span class="drop-down"></span></span>').insertAfter(v).data("replaced",v).on("select-prepare-open",f);u=[];v.find(":selected").each(function(L){u.push(h(this).text())});if(this.multiple){switch(u.length){case 1:l(A,u,v.data("single-value-text"),H.singleValueText);break;case this.options.length:l(A,u,v.data("all-values-text"),H.allValuesText);break;default:l(A,u,v.data("multiple-values-text"),H.multipleValuesText);break}}else{A.children(".select-value").html((u.length>0)?u.join(", "):"&nbsp;")}v.data("replacement",A)}v.on("update-select-list",function(L){f.apply(A[0])});this.tabIndex=-1;v.addClearFunction(a);v.detach().appendTo(A).data("initial-classes",this.className);this.className=(this.className.indexOf("validate[")>-1)?this.className.match(/validate\[.*\]/)[0]:"";A.data("select-settings",H);if(G||this.multiple||(H.styledList&&(!h.template.touchOs||(h.template.touchOs&&(H.styledOnTouch===true||(H.styledOnTouch===null&&A.hasClass("check-list"))))))){v.hide()}if(B){h.template.enableDOMWatch()}})};h.fn.styleSelect.defaults={styledList:true,styledOnTouch:null,openOnKeyDown:true,noValueText:"",singleValueText:false,multipleValuesText:"%d selected",allValuesText:"All",searchField:null,searchIfMoreThan:40,searchText:"Search"};h.fn.styleFile=function(r){var s=h.extend({},h.fn.styleFile.defaults,r);return this.each(function(w){var v=h(this).addClass("file"),y=h.extend({},s,v.data("file-options")),z=(v.hasClass("black-input")||v.closest(".black-inputs").length>0)?" anthracite-gradient":"",t=!!this.multiple,x=this.disabled?" disabled":"",u;if(v.parent().hasClass("file")){return}u=h.template.disableDOMWatch();styling=h('<span class="input '+this.className+x+'"><span class="file-text">'+v.val()+'</span><span class="button compact'+z+'">'+(t?y.textMultiple:y.textSingle)+"</span></span>");styling.insertAfter(v);v.addClearFunction(c);v.detach().appendTo(styling);if(u){h.template.enableDOMWatch()}})};h.fn.styleFile.defaults={textSingle:"Select file",textMultiple:"Select files"};h.fn.setNumber=function(r){if(typeof r!=="number"){r=parseFloat(r);if(isNaN(r)){r=0}}return this.each(function(t){var s;if(this.nodeName.toLowerCase()==="input"){s=h(this)}else{s=h(this).children("input:first");if(s.length===0){return}}s.val(i(r,q(s)))})};h.fn.incrementNumber=function(r,s){return this.each(function(v){var t,u,w;if(this.nodeName.toLowerCase()==="input"){t=h(this)}else{t=h(this).children("input:first");if(t.length===0){return}}u=q(t);w=parseFloat(t.val());if(isNaN(w)){w=0}w+=r?(s?u.shiftIncrement:u.increment):(s?-u.shiftIncrement:-u.increment);t.val(i(w,u))})};function q(s){var t=s.data("number-options"),r;if(!t||!t.formatted){t=h.extend({},h.fn.setNumber.defaults,t);if(typeof t.min!=="number"){t.min=null}if(typeof t.max!=="number"){t.max=null}if(t.min!==null&&t.max!==null){if(t.min>t.max){r=t.max;t.max=t.min;t.min=r}}if(!t.precision){t.precision=1}t.formatted=true;s.data("number-options",t)}return t}function i(s,r){s=Math.round(s/r.precision)*r.precision;if(r.min!==null){s=Math.max(s,r.min)}if(r.max!==null){s=Math.min(s,r.max)}return s}h.fn.setNumber.defaults={min:null,max:null,increment:1,shiftIncrement:10,precision:1};function b(r){var s=r[0].nodeName.toLowerCase();return(s==="input"||s==="select"||s==="textarea"||s==="button")}h.fn.enableInput=function(){return this.each(function(s){var r=h(this),t,u;if(b(r)){r.prop("disabled",false);t=r.data("replacement");if(t){t.removeClass("disabled")}}else{u=r.data("replaced");if(u&&b(u)){u.prop("disabled",false);r.removeClass("disabled")}}})};h.fn.disableInput=function(){return this.each(function(s){var r=h(this),t,u;if(b(r)){r.prop("disabled",true);t=r.data("replacement");if(t){t.addClass("disabled")}}else{u=r.data("replaced");if(u&&b(u)){u.prop("disabled",true);r.addClass("disabled")}}})};h.template.addSetupFunction(function(r,s){var t=this;t.findIn(r,s,"input.switch, input.checkbox, input.radio").each(function(u){h(this).styleCheckable();if(r&&t.is(this)){t=t.add(this)}});t.findIn(r,s,"label.button").children(":radio, :checkbox").each(function(u){if(this.checked){h(this).parent().addClass("active")}});t.findIn(r,s,".file").filter('input[type="file"]').styleFile();if(!Modernizr.input.placeholder){t.findIn(r,s,"input[placeholder]").each(function(v){var u=h(this);u.addClass("placeholder").val(u.attr("placeholder"))})}t.findIn(r,s,"select.select").each(function(u){h(this).styleSelect();if(r&&t.is(this)){t=t.add(this)}});return t});function n(J,F,L){var x=J.data("replaced"),N=J.data("select-settings"),M=J.children(".drop-down"),y,B=[],E,r,w,P,z,u,K,A,s,v,H=false,C=false,O,G,I;if(J.closest(".disabled").length>0||(x&&x.is(":disabled"))){if(L){L.preventDefault()}return}if(x&&!x.is(":hidden")){return}if(!J.hasClass("open")&&M.length>0){r=J.parents(".custom-scroll");if(J.closest(".modal, .notification").length>0){J.addClass("over")}I=h.template.disableDOMWatch();selectOffset=J.offset();w=J.is(":focus");y=h('<span class="'+J[0].className+'" style="width: '+J.width()+'px !important; -webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;"></span>').insertBefore(J).append(J.children(".select-value").clone());if(J.hasClass("full-width")){J.css({width:J.width()+"px"});H=true}if(!J.is(".glossy")){E=J.closest(".glossy");if(E.length>0){B.push("glossy")}}if(!J.is(".compact")){E=J.parent(".compact");if(E.length>0){B.push("compact")}}if(B.length>0){J.addClass(B.join(" "))}J.detach().appendTo(o.body).trackElement(y);if(I){h.template.enableDOMWatch()}if(w){J.focus()}J.removeClass("reversed").trigger("select-prepare-open").addClass("open").trigger("select-open");if(!J.hasClass("auto-open")&&(N.searchField===true||(N.searchField===null&&M.children("a, span").length>=N.searchIfMoreThan))){C=h('<span class="select-search"></span>').appendTo(J);O=h("<span>"+N.searchText+"</span>").appendTo(C);G=h('<input type="text" value="">').appendTo(C);C.on("keydown click touchend",function(Q){Q.stopPropagation()});G.focus(function(){J.addClass("focus")}).blur(function(){J.removeClass("focus")}).keyup(function(R){var S=h.trim(G.val()),Q;if(S.length===0){M.children().show();O.fadeIn();return}O.hide();Q=new RegExp(h.trim(G.val()).toLowerCase(),"g");M.children("a, span").each(function(T){var U=h(this);if(h.trim(U.text().toLowerCase()).match(Q)){U.show()}else{U.hide()}})})}if(h.fn.customScroll){if(!M.hasCustomScroll()){M.customScroll({padding:4,showOnHover:false,usePadding:true})}}z=M.removeClass("reversed").position().top;K=M.outerHeight();s=K-M.height();function t(){var Q;K=M.css("max-height","").outerHeight();P=J.offset().top-k.scrollTop();u=k.height();if(P+z+K>u){if(P-z-K>0){J.addClass("reversed")}else{if(P>u*0.6){J.addClass("reversed");v=P}else{J.removeClass("reversed");v=u-P-z}v-=s;M.css({maxHeight:(v-10)+"px"});Q=J.data("scrollPosition");if(Q){M[0].scrollTop=Q}}}else{J.removeClass("reversed")}J.removeData("scrollPosition");if(h.fn.customScroll){M.refreshCustomScroll()}}function D(Q){if(!h.template.processTouchClick(this,Q)){return}k.off("resize",t);p.off("scroll",D);r.off("scroll",D);if(F&&!h.template.touchOs){J.off("mouseleave",D)}else{p.off("touchend click",D)}J.removeData("selectCloseFunction");var R=J.is(":focus");if(C){if(G.is(":focus")){R=true}C.remove();M.children().show()}if(H){J.css({width:""})}if(B.length>0){J.removeClass(B.join(" "))}J.data("scrollPosition",M[0].scrollTop);I=h.template.disableDOMWatch();J.stopTracking(true).removeClass("over").detach().insertAfter(y).trigger("select-prepare-close").removeClass("open").trigger("select-close");y.remove();if(I){h.template.enableDOMWatch()}if(R){J.focus()}}J.data("selectCloseFunction",D);t();k.on("resize",t);p.on("scroll",D);r.on("scroll",D);if(F&&!h.template.touchOs){J.on("mouseleave",D)}else{p.on("touchend click",D)}}}function f(){var r=h(this),v=r.children(".drop-down"),u=r.data("replaced"),t=r.hasClass("check-list")?'<span class="check"></span>':"",s;if(v.length>0&&u){s=h.template.disableDOMWatch();v.empty();u.find("option, optgroup").each(function(x){var w=[],y=(this.nodeName.toLowerCase()==="option"),z=y?"span":"strong",A=y?h(this).text():this.label;if(y){if(this.selected){w.push("selected")}if(this.parentNode.nodeName.toLowerCase()==="optgroup"){w.push("in-group")}}if(A.length===0){A="&nbsp;"}h("<"+z+((w.length>0)?' class="'+w.join(" ")+'"':"")+">"+t+A+"</"+z+">").appendTo(v).data("select-value",this)});v.children("span").on("touchend click",g);if(s){h.template.enableDOMWatch()}r.off("select-prepare-open",f)}}function g(r){if(!h.template.processTouchClick(this,r)){r.stopPropagation();return}var u=h(this),v=u.parent(),w=v.parent(),y=w.data("replaced"),s=u.data("select-value"),z=y[0].multiple,t,x;if(v.data("touch-scrolling")){return}if(y&&s){if(z&&(h.template.touchOs||r.ctrlKey||r.metaKey||w.hasClass("easy-multiple-selection"))){t=u.hasClass("selected");if(!w.hasClass("allow-empty")){if(!t||(t&&(x=y.val())&&x.length>1)){s.selected=!t;y.trigger("change")}}else{s.selected=!t;y.trigger("change")}if(r.type==="touchend"||!w.hasClass("selectMultiple")){r.stopPropagation()}}else{x=y.val();if(z&&x==null){x=[]}if((z&&(x.length!==1||x[0]!==s.value))||(!z&&x!==s.value)){y.val(s.value).trigger("change")}}}}function l(r,s,u,t){if(u==null){u=t}if(typeof u==="string"&&u.length===0){u="&nbsp;"}if(typeof u==="boolean"){r.children(".select-value").removeClass("alt").html((s.length>0)?s.join(", "):"&nbsp;")}else{r.children(".select-value").addClass("alt").html(u.replace("%d",s.length))}}function j(r){if(r[0].multiple){val=r.val();if(val&&val.length>1){selectedIndex=false}else{selectedIndex=r[0].selectedIndex}}else{selectedIndex=r[0].selectedIndex}if(selectedIndex===null||selectedIndex===e){selectedIndex=-1}return selectedIndex}function d(){var s=h(this),t=s.data("replacement"),r;if(!t){return}r=t.data("checkableBlurFunction");if(r){r()}this.tabIndex=select[0].tabIndex;s.detach().insertBefore(t);this.className=s.data("initial-classes");s.removeData("initial-classes");s.removeData("replacement");t.remove()}function a(){var t=h(this),r=t.data("replacement"),u,s;if(!r){return}u=r.data("selectCloseFunction");if(u){u()}s=r.data("selectBlurFunction");if(s){s()}this.tabIndex=r[0].tabIndex;t.detach().insertBefore(r);this.className=t.data("initial-classes");t.removeData("initial-classes");t.removeData("replacement");if(h.fn.customScroll){r.children(".drop-down").removeCustomScroll()}r.remove()}function c(){var r=h(this),s=r.parent();if(!s.hasClass("file")){return}r.detach().insertBefore(s);s.remove()}if(h.template.ie7||h.template.ie8){p.on("click","label",function(u){var r=h(this),s=h("#"+this.htmlFor).filter(":checkbox, :radio"),t;if(s.length===0){return}t=s.data("replacement");if(t){t.trigger("click");return}if(r.hasClass("button")&&s.closest("label").is(r)){if(s.closest(".disabled").length>0||s.is(":disabled")){return}if(s.is(":checkbox")||!s.prop("checked")){s.prop("checked",!s.prop("checked")).trigger("change")}}})}p.on("click","span.switch, span.radio, span.checkbox",function(s){var r=h(this),t=r.data("replaced");if(t.length===0){return}if(s.target===t[0]){return}if(r.closest(".disabled").length>0||t.is(":disabled")){return}if(r.data("switch-dragged")){return}if(t.is(":checkbox")||!t.prop("checked")){t.prop("checked",!t.prop("checked")).trigger("change")}});p.on("mousedown touchstart","span.switch",function(N){var u=h(this),z=u.data("replaced"),s=(u.closest(".reversed-switches").length>0),r=u.children(".switch-button"),E=u.hasClass("mini"),x=u.hasClass("tiny"),F=x?2:0,M=((E||x)?7:4)+(2*F),Q=(h.template.ie7&&!E&&!x)?4:0,I=r.position().left,G=u.children(".switch-on"),D=G.children(),A=u.children(".switch-off"),w=A.children(),P=u.width(),L=r.outerWidth(true),y=P-L+(2*F),H=(N.type==="touchstart"),t=H?N.originalEvent.touches[0]:N,B=t.pageX,v,C=false,K;if(z.length===0){return}if(u.closest(".disabled").length||z.is(":disabled")){return}N.preventDefault();v=o.onselectstart;o.onselectstart=function(){return false};u.addClass("dragging");function O(T){var S=H?T.originalEvent.touches[0]:T,R=Math.max(0,Math.min(y,I+(S.pageX-B)));K=(R>y/2)?!s:s;if(s){r.css("right",(y-R-F)+"px");A.css("right",(P-R-M)+"px");w.css("margin-left",-(y-R+Q)+"px");G.css("left",(L+R-M)+"px")}else{r.css("left",(R-F)+"px");G.css("right",(P-R-M)+"px");D.css("margin-left",-(y-R+Q)+"px");A.css("left",(L+R-M)+"px")}C=true}p.on(H?"touchmove":"mousemove",O);function J(){p.off(H?"touchmove":"mousemove",O);p.off(H?"touchend":"mouseup",J);u.removeClass("dragging");if(s){r.css("right","");A.css("right","");w.css("margin-left","");G.css("left","")}else{r.css("left","");G.css("right","");D.css("margin-left","");A.css("left","")}if(v){o.onselectstart=v}if(C){if(z.prop("checked")!=K){z.prop("checked",K).change()}u.data("switch-dragged",true);setTimeout(function(){u.removeData("switch-dragged")},40)}else{if(H){u.click()}}}p.on(H?"touchend":"mouseup",J)});p.on("change",":radio, :checkbox",function(u){var r=h(this),s=r.data("replacement"),t=this.checked;if(s){s[t?"addClass":"removeClass"]("checked");if(this.type==="radio"){h('input[name="'+this.name+'"]:radio').not(this).each(function(v){var w=h(this).data("replacement");if(w){w[this.checked?"addClass":"removeClass"]("checked")}})}}else{if(r.parent().is("label.button")){r.parent()[t?"addClass":"removeClass"]("active")}}if(this.type==="radio"){h('input[name="'+this.name+'"]:radio').not(this).each(function(w){var v=h(this),x=v.data("replacement");if(x){x[t?"removeClass":"addClass"]("checked")}else{if(v.parent().is("label.button")){v.parent()[t?"removeClass":"addClass"]("active")}}v.trigger("silent-change")})}});p.on("focus","span.switch, span.radio, span.checkbox",function(s){var r=h(this),v=r.data("replaced"),u=false;if(v.length===0){return}if(r.closest(".disabled").length>0||v.is(":disabled")){s.preventDefault();return}r.addClass("focus");u=function(w){switch(w.keyCode){case h.template.keys.space:if(!v.is(":radio")||!v[0].checked){v[0].checked=!v[0].checked;v.change()}w.preventDefault();break}};function t(){r.removeClass("focus");r.data("checkableBlurFunction",t);p.off("keydown",u);r.off("blur",t)}r.data("checkableBlurFunction",t);r.on("blur",t);p.on("keydown",u)});p.on("focus","input",function(u){var r=h(this),s,v,t;if(r.closest(".disabled").length>0||r.is(":disabled")){u.preventDefault();return}if(this.type==="radio"||this.type==="checkbox"){s=r.data("replacement");if(s){s.addClass("focus")}return}if(!Modernizr.input.placeholder&&r.attr("placeholder")&&r.val()===r.attr("placeholder")){r.removeClass("placeholder").val("")}v=r.closest(".input, .inputs");if(v.length>0){v.addClass("focus");if(v.hasClass("number")){r.on("keydown.number",function(w){if(w.which===38||w.which===40){r.incrementNumber((w.which===38),w.shiftKey)}});r.on("keyup.number",function(w){var x=r.val();if(x===t){return}r.trigger("change");t=x})}}else{r.addClass("focus")}}).on("blur","input",function(){var r=h(this),s,t;if(this.type==="radio"||this.type==="checkbox"){var s=r.data("replacement");if(s){s.removeClass("focus")}return}if(!Modernizr.input.placeholder&&r.attr("placeholder")&&r.val()===""){r.addClass("placeholder").val(r.attr("placeholder"))}t=r.closest(".focus");t.removeClass("focus");if(t.hasClass("number")){r.off("keydown.number").off("keyup.number");r.setNumber(r.val())}});p.on("change",'.file > input[type="file"]',function(u){var r=h(this),t=[],v,s;if(this.multiple&&this.files){for(s=0;s<this.files.length;s++){t.push(this.files[s].name.split(/(\/|\\)/).pop())}v=t.join(", ")}else{v=r.val().split(/(\/|\\)/).pop()}r.siblings(".file-text").text(v)});p.on("click",".number-up, .number-down",function(t){var s=h(this),v=s.parent(),r=v.children("input:first"),u;if(r.length===0){return}r.incrementNumber(s.hasClass("number-up"),t.shiftKey).focus().trigger("change")});p.on("mousewheel",".number",function(t,u,s,r){h(this).incrementNumber(u>0,t.shiftKey).focus().trigger("change");t.preventDefault()});if(!h.template.touchOs){p.on("focus","select",function(){var r=h(this).data("replacement");if(r){r.focus()}})}p.on("change","select",function(){var w=h(this),v=w.find(":selected"),r=w.data("replacement"),s=[],t,x,u;if(r){u=r.data("select-settings");t=r.hasClass("selectMultiple");if(v.length===0){if(!t){x=w.data("no-value-text")||u.noValueText;if(!x||x.length===0){x="&nbsp;"}r.children(".select-value").addClass("alt").html(x)}if(r.hasClass("open")||t){r.children(".drop-down").children("a, span").removeClass("selected")}}else{if(!t){v.each(function(y){s.push(h(this).text())});if(this.multiple){switch(s.length){case 1:l(r,s,w.data("single-value-text"),u.singleValueText);break;case this.options.length:l(r,s,w.data("all-values-text"),u.allValuesText);break;default:l(r,s,w.data("multiple-values-text"),u.multipleValuesText);break}}else{r.children(".select-value").text((s.length>0)?s.join(", "):"&nbsp;")}}if(r.hasClass("open")||r.hasClass("selectMultiple")){r.children(".drop-down").children("a, span").each(function(){var z=h(this),y=z.data("select-value");if(y){z[y.selected?"addClass":"removeClass"]("selected")}})}}}});p.on("focus","span.select, span.selectMultiple",function(s){if(s.target!==this){return}var y=h(this),u=y.data("select-settings"),z=y.data("replaced"),w=y.children(".drop-down"),x,A="",t,v;if(y.closest(".disabled").length>0||(z&&z.is(":disabled"))){s.preventDefault();return}t=y.data("selectBlurTimeout");if(t){clearTimeout(t);y.removeData("selectBlurTimeout");return}if(y.hasClass("focus")){return}y.addClass("focus");x=function(B){var I=h.template.keys,H,D,F,K,E,C,G,J;F=y.hasClass("easy-multiple-selection")?"focus":"selected";switch(B.keyCode){case I.tab:H=y.data("selectCloseFunction");if(H){H()}break;case I.up:if(y.hasClass("open")||y.hasClass("selectMultiple")){K=w.children("."+F+":first");if(K.length===0){E=w.children("a:last, span:last")}else{E=K.prevAll("a:first, span:first")}if(E.length>0){K.removeClass(F);E.addClass(F).scrollToReveal();if(F==="selected"&&z){C=E.data("select-value");if(C){if(z[0].multiple){z.find("option:selected").prop("selected",false)}C.selected=true;z.trigger("change")}}}B.preventDefault()}else{if(z){D=j(z);if(D!==false&&D>0){z[0].selectedIndex=D-1}z.change();B.preventDefault()}}break;case I.down:if(y.hasClass("select")&&!y.hasClass("open")&&u.openOnKeyDown){n(y);B.preventDefault()}else{if(y.hasClass("open")||y.hasClass("selectMultiple")){K=w.children("."+F+":last");if(K.length===0){E=w.children("a:first, span:first")}else{E=K.nextAll("a:first, span:first")}if(E.length>0){K.removeClass(F);E.addClass(F).scrollToReveal();if(F==="selected"&&z){C=E.data("select-value");if(C){z.val(C.value).trigger("change")}}}B.preventDefault()}else{if(z){D=j(z);if(D!==false&&D<z[0].options.length-1){z[0].selectedIndex=D+1}z.change();B.preventDefault()}}}break;case I.enter:case I.space:if(F==="focus"&&(y.hasClass("selectMultiple")||y.hasClass("open"))){K=w.children("."+F);if(K.length===1){B.preventDefault();K.click()}}else{if(y.hasClass("open")){H=y.data("selectCloseFunction");if(H){H();B.preventDefault()}}}break;default:G=String.fromCharCode(B.keyCode);if(G&&G.length===1){if(v){clearTimeout(v)}A+=G.toLowerCase();J=new RegExp("^"+A,"g");v=setTimeout(function(){A=""},1500);if(y.hasClass("open")||y.hasClass("selectMultiple")){w.children("a, span").each(function(L){var M=h(this);if(h.trim(M.text().toLowerCase()).match(J)){K=w.children("."+F+":last");K.removeClass(F);M.addClass(F).scrollToReveal();if(F==="selected"&&z){C=M.data("select-value");if(C){z.val(C.value).trigger("change")}}B.preventDefault();return false}})}else{if(z){z.find("option").each(function(L){if(h.trim(h(this).text().toLowerCase()).match(J)){z.val(this.value).trigger("change");B.preventDefault();return false}})}}}break}};function r(B){var C;t=y.data("selectBlurTimeout");if(!t){y.data("selectBlurTimeout",setTimeout(function(){r.call(this,B)},40));return}else{y.removeData("selectBlurTimeout")}y.removeData("selectBlurFunction");if(y.children(".select-search").children("input:focus").length===0){y.removeClass("focus")}w.children(".focus").removeClass("focus");p.off("keydown",x);y.off("blur",r)}y.data("selectBlurFunction",r);y.on("blur",r);p.on("keydown",x)});if(h.template.touchOs){p.on("touchend",".select",function(r){n(h(this),false,r)})}else{p.on("click",".select-arrow, span.select-value",function(s){var r=h(this).parent();if(!r.hasClass("auto-open")){n(h(this).parent(),false,s)}});p.on("mouseenter",".select.auto-open",function(r){n(h(this),true,r)})}p.on("jqv.form.validating","form",function(t){var s=h(this),u=s.find("span.select > select, span.selectMultiple > select").filter(":hidden").show(),r=function(){u.hide();s.off("jqv.form.result",r)};s.on("jqv.form.result",r)})})(jQuery,window,document);(function(a,b){a.fn.message=function(e,c){var f=a.extend({},a.fn.message.defaults,c),d;d=a();this.each(function(x){var A=a(this),y=a.extend({},f,A.data("message-options")),z=["message"].concat(y.classes),w=(y.position.toLowerCase()!="bottom"),m=w?(y.append?"prependTo":"insertBefore"):(y.append?"appendTo":"insertAfter"),q=(y.node.toLowerCase()==="a")?' href="'+y.link+'"':"",t=y.simpler?" simpler":"",v=y.inset?" inset":"",s=y.showCloseOnHover?" show-on-parent-hover":"",g=y.closable?'<span class="close'+v+s+t+'">?</span>':"",o=(y.arrow&&a.inArray(y.arrow.toLowerCase(),["top","right","bottom","left"])>-1),l=o?'<span class="block-arrow '+y.arrow.toLowerCase()+'"><span></span></span>':"",j,n,B,u="",h,k,r=false,p;if(y.groupSimilar){if(y.append){k=A.childrenImmediates(".message",!w).not(".closing")}else{k=A[w?"prevImmediates":"nextImmediates"](".message").not(".closing")}k.each(function(D){var C=a(this);if(C.data("message-text")===e){r=C;return false}});if(r){if(y.groupCount){p=r.children(".count");if(p.length>0){p.text((parseInt(p.text())||1)+1)}else{r.append('<span class="count left'+v+'">2</span>')}}r.shake();d=d.add(r);return r}}if(y.stripes){B=y.darkStripes?"dark-":"";j=(y.stripesSize==="big"||y.stripesSize==="thin")?y.stripesSize+"-":"";n=y.animatedStripes?" animated":"";u='<span class="'+B+j+"stripes"+n+'"></span>'}h=a("<"+y.node+q+' class="'+z.join(" ")+t+'">'+u+e+g+l+"</"+y.node+">")[m](A);h.data("message-text",e);A.data("messages",(A.data("messages")||a()).add(h));d=d.add(h);if(y.animate){h.hide().slideDown(y.animateSpeed)}});return d};a.fn.clearMessages=function(d,c){if(typeof d==="boolean"){c=d;d=""}c=(c||c==b);this.each(function(e){var f=a(this).data("messages"),g;if(f){if(d&&d.length>0){g=a();f.each(function(h){if(a(this).data("message-text")===d){g=g.add(this)}})}else{g=f}g.addClass("closing")[c?"foldAndRemove":"remove"]();if(g.length===f.length){a(this).removeData("messages")}else{a(this).data("messages",f.not(g))}}});return this};a.fn.message.defaults={append:true,position:"top",arrow:false,node:"p",link:"#",classes:[],stripes:false,animatedStripes:true,darkStripes:true,stripesSize:"normal",simpler:false,closable:true,showCloseOnHover:true,animate:true,animateSpeed:"fast",groupSimilar:true,groupCount:true,inset:false}})(jQuery);(function(d,f,g,c){var i=d(g);var b=false;function h(){if(!b){b=d('<div id="top-notifications"></div>').appendTo(g.body)}return b}var e=false;function k(){if(!e){e=d('<div id="bottom-notifications"></div>').appendTo(g.body)}return e}function j(p,l,q){var o=p.data("notifications-archive")||[],n=(l>0)?Math.min(o.length,l):o.length,m,r;for(m=0;m<n;++m){r=o.shift();f.notify(r.title,r.message,d.extend(r.options,{delay:m*100}),true)}if(o.length===0){p.remove();return false}else{archiveSize=o.length;p.text((archiveSize>1)?q.textSeveralMore.replace("%d",archiveSize):q.textOneMore);return true}}function a(m,l){m.data("notification-timeout",setTimeout(function(){m.fadeAndRemove().trigger("close")},l));m.hover(function(){clearTimeout(m.data("notification-timeout"))},function(){m.data("notification-timeout",setTimeout(function(){m.fadeAndRemove().trigger("close")},l))})}f.notify=function(I,v,q,A){if(v==c||typeof v==="object"){q=v||{};v=I;I=""}q=q||{};A=A||false;if(!d.isReady||(q!=c&&q.delay>0)){var H=(q!=c)?(q.delay||40):40;setTimeout(function(){f.notify(I,v,d.extend(q,{delay:0}),A)},H)}else{if(!q.vPos){q.vPos=f.notify.defaults.vPos}if(!q.hPos){q.hPos=f.notify.defaults.hPos}var E=d.extend({},f.notify.defaults,f.notify.defaults[q.vPos.toLowerCase()],f.notify.defaults[q.hPos.toLowerCase()],f.notify.defaults[q.vPos.toLowerCase()+q.hPos.toLowerCase()],q);if(E.system&&f.notify.hasNotificationPermission()){var B=(d.trim(I).length>0)?I:g.title,m=f.webkitNotifications.createNotification(E.icon||"",B,v);if(E.autoClose||E.onDisplay){m.ondisplay=function(){if(E.onDisplay){E.onDisplay.call(m)}if(E.autoClose){setTimeout(function(){m.cancel()},E.closeDelay)}}}if((E.link&&E.link.length>0)||E.onClick){m.onclick=function(){if(E.onClick){E.onClick.call(m)}if(E.link&&E.link.length>0){m.cancel();g.location.href=E.link}}}if(E.onClose){m.onclose=function(){E.onClose.call(m)}}m.onerror=function(){if(E.onError){if(E.onError.call(m)===false){return}}f.notify(I,v,d.extend(E,{system:false}),A)};m.show();return}var F=["notification"].concat(E.classes),n="notifications-"+E.vPos.toLowerCase()+"-"+E.hPos.toLowerCase(),D=d("#"+n),C=(E.icon&&E.icon.length>0)?'<img class="notification-icon'+(E.iconOutside?" outside":"")+'" src="'+E.icon+'">':"",x=(E.hPos.toLowerCase()==="left")?"right":"left",y=(C.length>0&&E.iconOutside)?'<span class="block-arrow '+x+'"><span></span></span>':"",o=E.closeButton?'<span class="close'+(E.showCloseOnHover?" show-on-parent-hover":"")+'">?</span>':"",r=(d.trim(I).length>0)?"<h3>"+I+"</h3>":"",J=(E.title.length>0)?' title="'+E.title+'"':"",z=(E.link.length>0)?'<a href="'+E.link+'"'+J+">":"<div"+J+">",l=(E.link.length>0)?"</a>":"</div>",G=false,s=D.children(".more-notifications"),t,u,p,w;if(D.length===0){D=d('<ul id="'+n+'"></ul>').appendTo((E.vPos.toLowerCase()==="top")?h():k())}t=D.children().not(".closing").not(".more-notifications");if(E.groupSimilar){t.each(function(L){var N=d(this),P=N.data("notification-data"),M,O,K,Q;if(P.title===I.toLowerCase()&&P.message===v.toLowerCase()){M=N.children(".extra-notifications");if(M.length>0){K=M.data("notifications-archive")||[]}else{M=d('<p class="extra-notifications"></p>').appendTo(N);K=[]}O=N.data("notification-timeout");if(O){clearTimeout(O);N.off("mouseenter");N.off("mouseleave")}if(!E.stickGrouped&&(O||E.autoClose)){a(N,E.closeDelay)}K.push({title:I,message:v,options:q});Q=K.length;M.text((Q>1)?E.textSeveralSimilars.replace("%d",Q):E.textOneSimilar);M.data("notifications-archive",K);if(!N.is(":animated")){N.shake((i.width()>=768)?15:5)}G=true;return false}})}if(!G&&E.limit>0&&t.length>=E.limit){if(A||E.rotate){t.eq(0).addClass("closing").foldAndRemove()}else{if(s.length>0){archive=s.data("notifications-archive")||[]}else{s=d('<li class="notification more-notifications"></li>').appendTo(D);archive=[];s.click(function(K){j(s,E.releaseLimit,E)})}archive.push({title:I,message:v,options:q});archiveSize=archive.length;s.text((archiveSize>1)?E.textSeveralMore.replace("%d",archiveSize):E.textOneMore);s.data("notifications-archive",archive);G=true}}if(G){return}if(d.trim(I).length===0){F.push("no-title")}p=d('<li class="'+F.join(" ")+'">'+C+y+z+r+v+l+o+"</li>");if(s.length>0){p.insertBefore(s).hide().slideDown()}else{p.appendTo(D).hide().fadeIn("slow")}if(E.onDisplay){E.onDisplay.call(p[0])}if(E.onClick){p.children(":first").on("click",E.onClick)}p.data("notification-data",{title:I.toLowerCase(),message:v.toLowerCase(),closeDelay:E.closeDelay});p.on("close",function(){p.addClass("closing");var K=D.children(".more-notifications");if(K.length>0){p.stop(true).foldAndRemove();j(K,1,E)}});if(E.onClose){p.on("close",E.onClose)}if(E.autoClose){a(p,E.closeDelay)}}};f.notify.hasNotificationAPI=function(){return !!f.webkitNotifications};f.notify.isNotificationPermissionSet=function(){return(f.notify.hasNotificationAPI()&&f.webkitNotifications.checkPermission()!=1)};f.notify.hasNotificationPermission=function(){return(f.notify.hasNotificationAPI()&&f.webkitNotifications.checkPermission()==0)};f.notify.showNotificationPermission=function(m,n){var l=false;if(!f.notify.hasNotificationAPI()){return}if(typeof m==="string"){if(!d.fn.message){return}l=d("#main").message(m,{node:"a",classes:["align-center","green-gradient"],simpler:true,inset:true});m=l}m.click(function(o){if(o.target!==this){return}o.preventDefault();f.webkitNotifications.requestPermission(function(){if(l){l.fadeAndRemove()}if(n&&typeof n==="function"){n()}})})};f.notify.defaults={system:false,vPos:"top",hPos:"right",classes:[],link:"",title:"",icon:"",iconOutside:true,closeButton:true,showCloseOnHover:true,autoClose:true,closeDelay:8000,delay:0,groupSimilar:true,stickGrouped:false,textOneSimilar:"One similar notification",textSeveralSimilars:"%d similar notifications",limit:7,rotate:false,textOneMore:"One more notification",textSeveralMore:"%d more notifications",releaseLimit:5,top:{},bottom:{},left:{},center:{},right:{},topleft:{},topcenter:{},topright:{},bottomleft:{},bottomcenter:{},bottomright:{},onDisplay:null,onClick:null,onClose:null,onError:null}})(jQuery,window,document);